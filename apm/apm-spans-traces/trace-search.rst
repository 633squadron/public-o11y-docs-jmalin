.. _trace-search:

****************************************
Explore your traces using Trace Analyzer
****************************************

.. meta::
   :description: Use Trace Analyzer inside Splunk APM to detect patterns across billions of transactions to identify “unknown unknowns” problems across any combinations of tags, services, and users in your environment.

Trace Analyzer lets you search traces generated by your application and identify patterns in the full-fidelity trace data without prior knowledge of which tags are relevant. Trace Analyzer is available to all Splunk Observability Cloud users that use Splunk APM.

Examples of questions that Trace Analyzer helps you answer include:

-  How many traces and traces with errors exist for combination of service, environment, and tags?
-  For a given issue, which customers experience the highest error rate or latency?
-  Where is the error or latency spike in my trace data?
-  How many traces have a duration between X and Y milliseconds?

To open Trace Analyzer, select :guilabel:`Traces` in Splunk APM. You can also open the trace search when loading example traces from a chart, or from anywhere else in Observability Cloud.

Filter and search
====================

To explore your trace data in Trace Analyzer use the following controls:

IMAGE

#. Filters for time range, environment, workflow, and services, as well as custom filters.
#. Type of search, tag grouping, minimum and maximum trace duration, and trace search by ID.
#. Real time chart of traces, both total and with errors.
#. Table view of traces and group metrics, with total count of traces.

Trace Analyzer searches all currently retained traces; see :ref:`apm-data-retention` to learn more about the default trace retention period.

Trace & error count chart
-------------------------------

The :guilabel:`Trace & error` count option shows total traces and traces with errors in a stacked bars chart. You can hover the mouse pointer over any of the bars to see the trace count.

IMAGE

Click and drag over the chart to select a specific period within the available time frame. Select :guilabel:`Filter to selection` to update the time range filter.

IMAGE

Trace duration
-------------------------------

The :guilabel:`Trace duration` option shows a heatmap of traces by their duration relative to each period within the selected time range.

IMAGE

Click and drag over the chart to select a specific period within the available time frame. Select :guilabel:`Filter to selection` to update the time range filter.

Group by tag
-------------------------------

You can group all available traces by a single tag or attribute. For example, you can group all traces from your service by database table, host name, or HTTP status code.

IMAGE

When the :guilabel:`Trace & error count` view is active, the :guilabel:`Group Metrics` tab shows a breakdown of the top 100 values for the selected tag, ranked by the number of errors.

IMAGE

When the :guilabel:`Trace duration` view is active, the :guilabel:`Group Metrics` tab shows a breakdown of top 100 values for the selected tag, ranked by maximum duration.

IMAGE

Both tables can be ordered by trace count.

When to use Trace Analyzer
=============================================

Splunk Observability Cloud provides several tools for exploring application monitoring data. Trace Analyzer is suited to scenarios where high cardinality, high granularity searches and explorations are required for researching unknown or new issues.

The following table presents what each APM tool is best suited for:

.. list-table::
   :header-rows: 1
   :widths: 33 33 33
   :width: 100

   * - Trace Analyzer
     - Tag Spotlight / Service map
     - Monitoring MetricSets
   
   * - Identify patterns for unindexed tags
     - Surface trends for indexed tags
     - Get alerts on service degradation

   * - Trace-level analysis
     - Service-level analysis
     - Workflow-level analysis

   * - High cardinality
     - Medium cardinality
     - Low cardinality


Learn more
=====================

See the following links for more information on Trace Analyzer: 

* :ref:`apm-use-case-trace-analyzer`